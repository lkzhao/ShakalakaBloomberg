<socket-io-link on-view=“handleView” on-send=“handleSend” />
<socket-io-watch model=“User” primary-key=“id” key=“51239d919af” value=“{{currentUser}}”>

<script>
  is: "socket-io-watch",
  attach: function(){
    window.socketIOWatch.attach(this)
  },
  modelChanged: function(){

  },
  primaryKeyChanged: function(){

  },
  keyChanged: function(){

  },
  valueChanged: function(){

  },
</script>

<script>
  var schemaName = "User"
  function broadcast(doc){
    registeredSockets[schemaName][doc._id].forEach(function(soc){
      soc.emit("socket-io-watch-updated-"+schemaName+"-"+doc._id, doc.toObject())
    })
  }
  var schema = new Schema(..);
  schema.post('save', function (doc) {
    broadcast(doc)
  })
  schema.post('update', function(doc) {
    broadcast(doc)
  });
</script>
